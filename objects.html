<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Javascript par la pratique</title>
</head>
<body>
    <script>
        //Avec Javascript, on peut creer des objets à la volée
        //object literal syntax
        const vehicule = {
            id:1, 
            brand: 'Renault', 
            model: 'Clio', 
            honk:()=>{
                console.log(`Tuuuuuuut ! `)
            }
        }; 
        //Fonction constructeur pour initialiser les propriétés d'un objet
        function Vehicule(brand,model,color){
            this.brand = brand; 
            this.model = model; 
            this.color = color;  
        };

        const bolide = new Vehicule('Porsche', 'Panamera', 'Rouge');
        const bolide2 = new Vehicule(`Ferrari`, `Testarossa`,`Noire`); 
        console.log(bolide); 
        console.log(bolide2); 
        console.log(`j'ai acheté une ${bolide.brand} modèle ${bolide.model} de couleur ${bolide.color}`); 
        console.log(`j'ai acheté une ${bolide2.brand} de couleur ${bolide2.color} et c'est une ${bolide2.model}`)

        vehicule.color = 'Rouge'; 
       
        //création d'un getter en EcmaScript5
        Object.defineProperty(vehicule, `summary`,{
            get:function(){
                return `Vehicule ${this.brand} de type ${this.model} de couleur ${this.color}`
            }, 
            //creation d'un setter en EcmaScript6
            set:function(value){
                const caracterics = value.split(','); 
                this.brand = caracterics[0]; 
                this.model = caracterics[1];
                this.color = caracterics[2];
            }
        }); 
        //Copie d'un objet 
        const person = {id: 1, name:'Yannick', lastName:'Bley', job:'Développeur Web' }
        const person2 = Object.assign({}, person, {job:'Inventeur', language:'JavaScript PHP'}); // avec EcmaScript5
        const person3 = {...person};//avec EcmaScript6
        const person4 = JSON.parse(JSON.stringify(person)); 

        //La méthode assign prend en paramètres d'abord un objet vide qui va contenir toutes les propriétés de l'objet à copier, 
        // puis le nom de l'objet que l'on veut copier
         console.log(person);
         console.log(person2); 
         console.log(person3); 
         console.log(person4); 
        

        vehicule.summary = `Peugeot, 206, Noire `

        console.log(vehicule.summary)

        // //Méthode statique pour afficher toutes les clefs d'un objet
        // const result = Object.keys(vehicule); 
        // console.log(result); 
        // result.map((key)=>{
        //    console.log( `Voici la clé ${key}`); 
        // })
        // // Modification de l'object par le biais de la notation pointée 
        // vehicule.model = "Mégane"; 
    
    
    </script>
</body>
</html>